import{u as F,d as j,f as $e,g as De,h as oe,t as Me,T as Ae,i as Le}from"./Button-fBRWlntx.js";import{r as t,j as a}from"./index-Rlwg4Gy_.js";import{u as Oe,a as _e}from"./Cta-a4JgSdiQ.js";import{u as Xe,f as He,m as ae,A as le}from"./ElementChildren-FNPUYHBN.js";function Pe(r,s){const l=t.useRef(!0);t.useEffect(()=>{if(l.current){l.current=!1;return}return r()},s)}const W=2**31-1;function ie(r,s,l){const c=l-Date.now();r.current=c<=W?setTimeout(s,c):setTimeout(()=>ie(r,s,l),W)}function Ue(){const r=Oe(),s=t.useRef();return _e(()=>clearTimeout(s.current)),t.useMemo(()=>{const l=()=>clearTimeout(s.current);function c(h,i=0){r()&&(l(),i<=W?s.current=setTimeout(h,i):ie(s,h,Date.now()+i))}return{set:c,clear:l}},[])}const ce=t.forwardRef(({className:r,bsPrefix:s,as:l="div",...c},h)=>(s=F(s,"carousel-caption"),a.jsx(l,{ref:h,className:j(r,s),...c})));ce.displayName="CarouselCaption";const We=ce,ue=t.forwardRef(({as:r="div",bsPrefix:s,className:l,...c},h)=>{const i=j(l,F(s,"carousel-item"));return a.jsx(r,{ref:h,...c,className:i})});ue.displayName="CarouselItem";const Fe=ue,Ke=40;function Be(r){if(!r||!r.style||!r.parentNode||!r.parentNode.style)return!1;const s=getComputedStyle(r);return s.display!=="none"&&s.visibility!=="hidden"&&getComputedStyle(r.parentNode).display!=="none"}const de=t.forwardRef(({defaultActiveIndex:r=0,...s},l)=>{const{as:c="div",bsPrefix:h,slide:i=!0,fade:fe=!1,controls:me=!0,indicators:$=!0,indicatorLabels:D=[],activeIndex:p,onSelect:v,onSlide:S,onSlid:T,interval:y=5e3,keyboard:K=!0,onKeyDown:M,pause:N="hover",onMouseOver:A,onMouseOut:L,wrap:I=!0,touch:B=!0,onTouchStart:O,onTouchMove:_,onTouchEnd:X,prevIcon:he=a.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:V="Previous",nextIcon:pe=a.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:Y="Next",variant:q,className:ve,children:H,...Ce}=Xe({defaultActiveIndex:r,...s},{activeIndex:"onSelect"}),f=F(h,"carousel"),R=$e(),b=t.useRef(null),[z,G]=t.useState("next"),[xe,k]=t.useState(!1),[E,J]=t.useState(!1),[o,Ne]=t.useState(p||0);t.useEffect(()=>{!E&&p!==o&&(b.current?G(b.current):G((p||0)>o?"next":"prev"),i&&J(!0),Ne(p||0))},[p,E,o,i]),t.useEffect(()=>{b.current&&(b.current=null)});let C=0,Q;He(H,(e,n)=>{++C,n===p&&(Q=e.props.interval)});const Z=De(Q),u=t.useCallback(e=>{if(E)return;let n=o-1;if(n<0){if(!I)return;n=C-1}b.current="prev",v==null||v(n,e)},[E,o,v,I,C]),d=oe(e=>{if(E)return;let n=o+1;if(n>=C){if(!I)return;n=0}b.current="next",v==null||v(n,e)}),P=t.useRef();t.useImperativeHandle(l,()=>({element:P.current,prev:u,next:d}));const ee=oe(()=>{!document.hidden&&Be(P.current)&&(R?u():d())}),x=z==="next"?"start":"end";Pe(()=>{i||(S==null||S(o,x),T==null||T(o,x))},[o]);const Re=`${f}-item-${z}`,be=`${f}-item-${x}`,Ee=t.useCallback(e=>{Me(e),S==null||S(o,x)},[S,o,x]),Se=t.useCallback(()=>{J(!1),T==null||T(o,x)},[T,o,x]),Te=t.useCallback(e=>{if(K&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":e.preventDefault(),R?d(e):u(e);return;case"ArrowRight":e.preventDefault(),R?u(e):d(e);return}M==null||M(e)},[K,M,u,d,R]),ye=t.useCallback(e=>{N==="hover"&&k(!0),A==null||A(e)},[N,A]),Ie=t.useCallback(e=>{k(!1),L==null||L(e)},[L]),te=t.useRef(0),w=t.useRef(0),ne=Ue(),ge=t.useCallback(e=>{te.current=e.touches[0].clientX,w.current=0,N==="hover"&&k(!0),O==null||O(e)},[N,O]),je=t.useCallback(e=>{e.touches&&e.touches.length>1?w.current=0:w.current=e.touches[0].clientX-te.current,_==null||_(e)},[_]),ke=t.useCallback(e=>{if(B){const n=w.current;Math.abs(n)>Ke&&(n>0?u(e):d(e))}N==="hover"&&ne.set(()=>{k(!1)},y||void 0),X==null||X(e)},[B,N,u,d,ne,y,X]),se=y!=null&&!xe&&!E,U=t.useRef();t.useEffect(()=>{var e,n;if(!se)return;const m=R?u:d;return U.current=window.setInterval(document.visibilityState?ee:m,(e=(n=Z.current)!=null?n:y)!=null?e:void 0),()=>{U.current!==null&&clearInterval(U.current)}},[se,u,d,Z,y,ee,R]);const re=t.useMemo(()=>$&&Array.from({length:C},(e,n)=>m=>{v==null||v(n,m)}),[$,C,v]);return a.jsxs(c,{ref:P,...Ce,onKeyDown:Te,onMouseOver:ye,onMouseOut:Ie,onTouchStart:ge,onTouchMove:je,onTouchEnd:ke,className:j(ve,f,i&&"slide",fe&&`${f}-fade`,q&&`${f}-${q}`),children:[$&&a.jsx("div",{className:`${f}-indicators`,children:ae(H,(e,n)=>a.jsx("button",{type:"button","data-bs-target":"","aria-label":D!=null&&D.length?D[n]:`Slide ${n+1}`,className:n===o?"active":void 0,onClick:re?re[n]:void 0,"aria-current":n===o},n))}),a.jsx("div",{className:`${f}-inner`,children:ae(H,(e,n)=>{const m=n===o;return i?a.jsx(Ae,{in:m,onEnter:m?Ee:void 0,onEntered:m?Se:void 0,addEndListener:Le,children:(g,we)=>t.cloneElement(e,{...we,className:j(e.props.className,m&&g!=="entered"&&Re,(g==="entered"||g==="exiting")&&"active",(g==="entering"||g==="exiting")&&be)})}):t.cloneElement(e,{className:j(e.props.className,m&&"active")})})}),me&&a.jsxs(a.Fragment,{children:[(I||p!==0)&&a.jsxs(le,{className:`${f}-control-prev`,onClick:u,children:[he,V&&a.jsx("span",{className:"visually-hidden",children:V})]}),(I||p!==C-1)&&a.jsxs(le,{className:`${f}-control-next`,onClick:d,children:[pe,Y&&a.jsx("span",{className:"visually-hidden",children:Y})]})]})]})});de.displayName="Carousel";const Ge=Object.assign(de,{Caption:We,Item:Fe});export{Ge as C};
